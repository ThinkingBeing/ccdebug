{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "AppForm DSL Schema",
  "description": "JSON Schema validation for AppForm DSL template",
  "type": "object",
  "required": [
    "metadataType",
    "createdBy",
    "createdOn",
    "modifiedBy",
    "modifiedOn",
    "metadataStatus",
    "formId",
    "name",
    "entityId",
    "functionPageId",
    "application",
    "dataSource",
    "components",
    "layout",
    "hiddens",
    "toolbar",
    "rule",
    "checkRules"
  ],
  "properties": {
    "metadataType": {
      "type": "string",
      "enum": [
        "AppForm"
      ],
      "description": "当前元数据类型，固定值：AppForm"
    },
    "createdBy": {
      "type": "string",
      "description": "创建人的用户标识，当前可以使用 ModelingAI 来标识"
    },
    "createdOn": {
      "type": "string",
      "format": "date-time",
      "description": "创建时间，日期类型"
    },
    "modifiedBy": {
      "type": "string",
      "description": "修改人的用户标识"
    },
    "modifiedOn": {
      "type": "string",
      "format": "date-time",
      "description": "修改时间，日期类型"
    },
    "metadataStatus": {
      "type": "string",
      "enum": [
        "Product",
        "Customize"
      ],
      "description": "状态，枚举类型：Product｜Customize"
    },
    "formId": {
      "type": "string",
      "format": "uuid",
      "description": "控件ID，GUID类型，同文件名称"
    },
    "name": {
      "type": "string",
      "description": "控件名称"
    },
    "entityId": {
      "type": "string",
      "description": "表单数据源（数据表）ID"
    },
    "functionPageId": {
      "type": "string",
      "format": "uuid",
      "description": "所属页面ID，GUID格式"
    },
    "application": {
      "type": "string",
      "description": "应用（系统）编码"
    },
    "dataSource": {
      "type": "object",
      "required": [
        "keyName",
        "entity",
        "diagrams"
      ],
      "properties": {
        "keyName": {
          "type": "string",
          "description": "主表主键名称"
        },
        "entity": {
          "type": "string",
          "description": "主表英文名"
        },
        "diagrams": {
          "type": "array",
          "items": {
            "type": "object",
            "required": [
              "id",
              "name",
              "primaryField",
              "type",
              "isMaster",
              "joinType",
              "logicFormula",
              "conditionType",
              "conditions"
            ],
            "properties": {
              "id": {
                "type": "string",
                "format": "uuid",
                "description": "数据表ID，GUID类型"
              },
              "name": {
                "type": "string",
                "description": "数据表英文名"
              },
              "primaryField": {
                "type": "string",
                "description": "主键"
              },
              "parentId": {
                "type": [
                  "string",
                  "null"
                ],
                "format": "uuid",
                "description": "与之关联的主表的ID，GUID类型"
              },
              "type": {
                "type": "integer",
                "description": "类型"
              },
              "isMaster": {
                "type": "boolean",
                "description": "是否主表"
              },
              "joinType": {
                "type": "integer",
                "description": "连接类型"
              },
              "diagramRelation": {
                "type": [
                  "object",
                  "null"
                ],
                "properties": {
                  "primaryEntityName": {
                    "type": "string",
                    "description": "主表"
                  },
                  "primaryFieldName": {
                    "type": "string",
                    "description": "主表关联字段"
                  },
                  "entityName": {
                    "type": "string",
                    "description": "关联表"
                  },
                  "fieldName": {
                    "type": "string",
                    "description": "外键字段"
                  },
                  "relation": {
                    "type": "string",
                    "description": "主表.关联字段 = 关联表.外键字段"
                  },
                  "type": {
                    "type": "string",
                    "enum": [
                      "OneToMore"
                    ],
                    "description": "关系类型"
                  }
                }
              },
              "logicFormula": {
                "type": "string",
                "description": "逻辑公式"
              },
              "conditionType": {
                "type": "integer",
                "description": "条件类型"
              },
              "conditions": {
                "type": "array",
                "items": {
                  "type": "object",
                  "required": [
                    "field",
                    "operatorType",
                    "id",
                    "dataType",
                    "valueType",
                    "leftValueType",
                    "value"
                  ],
                  "properties": {
                    "field": {
                      "type": "string",
                      "description": "表名.字段名"
                    },
                    "operatorType": {
                      "type": "string",
                      "description": "操作符类型"
                    },
                    "id": {
                      "type": "string",
                      "format": "uuid",
                      "description": "节点ID，GUID类型"
                    },
                    "dataType": {
                      "type": "string",
                      "description": "数据类型"
                    },
                    "valueType": {
                      "type": "string",
                      "description": "值类型"
                    },
                    "leftValueType": {
                      "type": "string",
                      "description": "左侧值类型"
                    },
                    "value": {
                      "type": "string",
                      "description": "值"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "components": {
      "type": "array",
      "items": {
        "type": "object",
        "required": [
          "id",
          "title",
          "dataSourceType",
          "entityName",
          "field",
          "name",
          "dataType",
          "titleShowStyle",
          "requirementLevel",
          "isHidden"
        ],
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "唯一ID，GUID类型"
          },
          "title": {
            "type": "string",
            "description": "显示名称"
          },
          "dataSourceType": {
            "type": "string",
            "enum": [
              "Field"
            ],
            "description": "组件的数据来源类型为数据表字段，固定值：Field"
          },
          "entityName": {
            "type": "string",
            "description": "字段所属表名"
          },
          "field": {
            "type": "string",
            "description": "字段名"
          },
          "name": {
            "type": "string",
            "description": "字段名称，同字段名"
          },
          "dataType": {
            "type": "string",
            "enum": [
              "text",
              "date",
              "number"
            ],
            "description": "数据类型"
          },
          "titleShowStyle": {
            "type": "string",
            "enum": [
              "show",
              "hideArea",
              "hideContent"
            ],
            "description": "组件标题样式，默认：show，支持 show、hideArea、hideContent"
          },
          "requirementLevel": {
            "type": "string",
            "enum": [
              "none",
              "required"
            ],
            "description": "必填级别，none：非必填，required：必填"
          },
          "isHidden": {
            "type": "boolean",
            "description": "是否隐藏"
          },
          "tips": {
            "type": "string",
            "description": "组件录入说明或者提示说明，用于业务比较特殊的场景对用户进行补充说明"
          },
          "textBox": {
            "type": "object",
            "required": [
              "id",
              "field",
              "errorMode",
              "readonlyMode",
              "maxLength",
              "placeholder",
              "showMaxLength",
              "defaultValue"
            ],
            "properties": {
              "id": {
                "type": "string",
                "format": "uuid",
                "description": "控件唯一ID，GUID类型"
              },
              "field": {
                "type": "string",
                "description": "字段名"
              },
              "errorMode": {
                "type": "string",
                "enum": ["default", "none", "icon", "border", "bottom"],
                "description": "异常提示方式"
              },
              "readonlyMode": {
                "type": "string",
                "enum": ["none", "add", "modify", "all"],
                "description": "只读模式"
              },
              "maxLength": {
                "type": "string",
                "description": "最大输入文本长度，不得大于数据库字段的长度"
              },
              "placeholder": {
                "type": "string",
                "description": "为空提示"
              },
              "showMaxLength": {
                "type": "boolean",
                "description": "是否在界面上显示最大可录入的长度"
              },
              "defaultValue": {
                "type": "string",
                "description": "默认值"
              }
            }
          },
          "comboBox": {
            "type": "object",
            "required": [
              "id",
              "field",
              "errorMode",
              "readonlyMode",
              "defaultValue",
              "allowEmpty",
              "emptyIsDefault",
              "valueFromSelect",
              "multiSelect",
              "allowClear",
              "filterable",
              "optionsType"
            ],
            "properties": {
              "id": {
                "type": "string",
                "format": "uuid",
                "description": "控件唯一ID，GUID类型"
              },
              "field": {
                "type": "string",
                "description": "字段名"
              },
              "errorMode": {
                "type": "string",
                "enum": ["default", "none", "icon", "border", "bottom"],
                "description": "异常提示方式"
              },
              "readonlyMode": {
                "type": "string",
                "enum": ["none", "add", "modify", "all"],
                "description": "只读模式"
              },
              "defaultValue": {
                "type": "string",
                "description": "默认值"
              },
              "allowEmpty": {
                "type": "boolean",
                "description": "允许为空"
              },
              "emptyIsDefault": {
                "type": "boolean",
                "description": "空值为默认值"
              },
              "valueFromSelect": {
                "type": "boolean",
                "description": "值来自选择"
              },
              "multiSelect": {
                "type": "boolean",
                "description": "多选"
              },
              "allowClear": {
                "type": "boolean",
                "description": "允许清除"
              },
              "filterable": {
                "type": "boolean",
                "description": "可过滤"
              },
              "optionsType": {
                "type": "string",
                "enum": [
                  "options", "bizParam"
                ],
                "description": "选项类型 options: 固定值"
              },
              "optionDataType": {
                "type": "string",
                "enum": [
                  "textValue"
                ],
                "description": "固定值选项定义方式默认为 textValue（文本+值方式）"
              },
              "options": {
                "type": "array",
                "items": {
                  "type": "object",
                  "required": [
                    "value",
                    "text",
                    "isDefault"
                  ],
                  "properties": {
                    "value": {
                      "type": "string",
                      "description": "选项值"
                    },
                    "text": {
                      "type": "string",
                      "description": "选项文本"
                    },
                    "isDefault": {
                      "type": "boolean",
                      "description": "是否默认"
                    }
                  }
                }
              }
            }
          },
          "datePicker": {
            "type": "object",
            "required": [
              "id",
              "field",
              "errorMode",
              "readonlyMode",
              "format",
              "allowClear",
              "defaultValue"
            ],
            "properties": {
              "id": {
                "type": "string",
                "format": "uuid",
                "description": "控件唯一ID，GUID类型"
              },
              "field": {
                "type": "string",
                "description": "字段名"
              },
              "errorMode": {
                "type": "string",
                "enum": ["default", "none", "icon", "border", "bottom"],
                "description": "异常提示方式"
              },
              "readonlyMode": {
                "type": "string",
                "enum": ["none", "add", "modify", "all"],
                "description": "只读模式"
              },
              "format": {
                "type": "string",
                "description": "日期格式"
              },
              "allowClear": {
                "type": "boolean",
                "description": "允许清除"
              },
              "defaultValue": {
                "type": "string",
                "description": "默认值"
              }
            }
          },
          "spinner": {
            "type": "object",
            "required": [
              "id",
              "field",
              "errorMode",
              "readonlyMode",
              "defaultValue",
              "precision",
              "precisionType",
              "rounding",
              "roundingType",
              "showThousandths",
              "allowZero",
              "allowEmpty",
              "showPercentage",
              "showMagnitudeTooltip",
              "unitText",
              "unitTextType",
              "minValue",
              "maxValue",
              "minOperatorType",
              "maxOperatorType"
            ],
            "properties": {
              "id": {
                "type": "string",
                "format": "uuid",
                "description": "控件唯一ID，GUID类型"
              },
              "field": {
                "type": "string",
                "description": "字段名"
              },
              "errorMode": {
                "type": "string",
                "enum": ["default", "none", "icon", "border", "bottom"],
                "description": "异常提示方式"
              },
              "readonlyMode": {
                "type": "string",
                "enum": ["none", "add", "modify", "all"],
                "description": "只读模式"
              },
              "defaultValue": {
                "type": "string",
                "description": "默认值"
              },
              "precision": {
                "type": "string",
                "description": "精度"
              },
              "precisionType": {
                "type": "string",
                "description": "精度类型"
              },
              "rounding": {
                "type": "string",
                "description": "舍入"
              },
              "roundingType": {
                "type": "string",
                "description": "舍入类型"
              },
              "showThousandths": {
                "type": "boolean",
                "description": "显示千分位"
              },
              "allowZero": {
                "type": "boolean",
                "description": "允许零"
              },
              "allowEmpty": {
                "type": "boolean",
                "description": "允许为空"
              },
              "showPercentage": {
                "type": "boolean",
                "description": "显示百分比"
              },
              "showMagnitudeTooltip": {
                "type": "boolean",
                "description": "显示数量级提示"
              },
              "unitText": {
                "type": "string",
                "description": "单位文本"
              },
              "unitTextType": {
                "type": "string",
                "description": "单位文本类型"
              },
              "minValue": {
                "type": "string",
                "description": "最小值"
              },
              "maxValue": {
                "type": "string",
                "description": "最大值"
              },
              "minOperatorType": {
                "type": "string",
                "description": "最小值操作符类型"
              },
              "maxOperatorType": {
                "type": "string",
                "description": "最大值操作符类型"
              }
            }
          },
          "textArea": {
            "type": "object",
            "required": [
              "id",
              "field",
              "errorMode",
              "readonlyMode",
              "defaultValue",
              "height",
              "maxLength",
              "autoHeight",
              "minRows",
              "maxRows"
            ],
            "properties": {
              "id": {
                "type": "string",
                "format": "uuid",
                "description": "控件唯一ID，GUID类型"
              },
              "field": {
                "type": "string",
                "description": "字段名"
              },
              "errorMode": {
                "type": "string",
                "enum": ["default", "none", "icon", "border", "bottom"],
                "description": "异常提示方式"
              },
              "readonlyMode": {
                "type": "string",
                "enum": ["none", "add", "modify", "all"],
                "description": "只读模式"
              },
              "defaultValue": {
                "type": "string",
                "description": "默认值"
              },
              "height": {
                "type": "string",
                "description": "高度"
              },
              "maxLength": {
                "type": "string",
                "description": "最大长度"
              },
              "autoHeight": {
                "type": "boolean",
                "description": "自动高度"
              },
              "minRows": {
                "type": "string",
                "description": "最小行数"
              },
              "maxRows": {
                "type": "string",
                "description": "最大行数"
              }
            }
          },
          "fileUpload": {
            "type": "object",
            "required": [
              "id",
              "field",
              "errorMode",
              "readonlyMode",
              "defaultValue",
              "limitFileCount",
              "limitSize",
              "fileLimitSize",
              "limitType",
              "customType",
              "enableAllDownloads",
              "showTips",
              "showDragArea"
            ],
            "properties": {
              "id": {
                "type": "string",
                "format": "uuid",
                "description": "控件唯一ID，GUID类型"
              },
              "field": {
                "type": "string",
                "description": "字段名"
              },
              "errorMode": {
                "type": "string",
                "enum": ["default", "none", "icon", "border", "bottom"],
                "description": "异常提示方式"
              },
              "readonlyMode": {
                "type": "string",
                "enum": ["none", "add", "modify", "all"],
                "description": "只读模式"
              },
              "defaultValue": {
                "type": "string",
                "description": "默认值"
              },
              "limitFileCount": {
                "type": "string",
                "description": "限制文件数量"
              },
              "limitSize": {
                "type": "string",
                "description": "限制大小"
              },
              "fileLimitSize": {
                "type": "string",
                "description": "文件限制大小"
              },
              "limitType": {
                "type": "string",
                "description": "限制类型"
              },
              "customType": {
                "type": "string",
                "description": "自定义类型"
              },
              "enableAllDownloads": {
                "type": "boolean",
                "description": "启用全部下载"
              },
              "showTips": {
                "type": "boolean",
                "description": "显示提示"
              },
              "showDragArea": {
                "type": "boolean",
                "description": "显示拖拽区域"
              }
            }
          },
          "radioButtonList": {
            "type": "object",
            "required": [
              "id",
              "field",
              "errorMode",
              "readonlyMode",
              "defaultValue",
              "optionDataType",
              "optionsType",
              "options"
            ],
            "properties": {
              "id": {
                "type": "string",
                "format": "uuid",
                "description": "控件唯一ID，GUID类型"
              },
              "field": {
                "type": "string",
                "description": "字段名"
              },
              "errorMode": {
                "type": "string",
                "enum": ["default", "none", "icon", "border", "bottom"],
                "description": "异常提示方式"
              },
              "readonlyMode": {
                "type": "string",
                "enum": ["none", "add", "modify", "all"],
                "description": "只读模式"
              },
              "defaultValue": {
                "type": "string",
                "description": "默认值"
              },
              "optionDataType": {
                "type": "string",
                "enum": [
                  "textValue"
                ],
                "description": "选项数据类型"
              },
              "optionsType": {
                "type": "string",
                "enum": [
                  "options"
                ],
                "description": "选项类型"
              },
              "options": {
                "type": "array",
                "items": {
                  "type": "object",
                  "required": [
                    "value",
                    "text",
                    "isDefault"
                  ],
                  "properties": {
                    "value": {
                      "type": "string",
                      "description": "选项值"
                    },
                    "text": {
                      "type": "string",
                      "description": "选项文本"
                    },
                    "isDefault": {
                      "type": "boolean",
                      "description": "是否默认"
                    }
                  }
                }
              }
            }
          },
          "checkBoxList": {
            "type": "object",
            "required": [
              "id",
              "field",
              "errorMode",
              "readonlyMode",
              "defaultValue",
              "optionDataType",
              "optionsType",
              "options"
            ],
            "properties": {
              "id": {
                "type": "string",
                "format": "uuid",
                "description": "控件唯一ID，GUID类型"
              },
              "field": {
                "type": "string",
                "description": "字段名"
              },
              "errorMode": {
                "type": "string",
                "enum": ["default", "none", "icon", "border", "bottom"],
                "description": "异常提示方式"
              },
              "readonlyMode": {
                "type": "string",
                "enum": ["none", "add", "modify", "all"],
                "description": "只读模式"
              },
              "defaultValue": {
                "type": "string",
                "description": "默认值"
              },
              "optionDataType": {
                "type": "string",
                "enum": [
                  "textValue"
                ],
                "description": "选项数据类型"
              },
              "optionsType": {
                "type": "string",
                "enum": [
                  "options"
                ],
                "description": "选项类型"
              },
              "options": {
                "type": "array",
                "items": {
                  "type": "object",
                  "required": [
                    "value",
                    "text",
                    "isDefault"
                  ],
                  "properties": {
                    "value": {
                      "type": "string",
                      "description": "选项值"
                    },
                    "text": {
                      "type": "string",
                      "description": "选项文本"
                    },
                    "isDefault": {
                      "type": "boolean",
                      "description": "是否默认"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "layout": {
      "type": "object",
      "properties": {
        "tabPosition": {
          "type": "string",
          "description": "标签位置"
        },
        "groupStyle": {
          "type": "string",
          "description": "分组样式"
        },
        "regions": {
          "type": "array",
          "items": {
            "type": "object",
            "required": [
              "id",
              "regionId",
              "title",
              "tabTitle",
              "disableStyle",
              "isHidden",
              "groups"
            ],
            "properties": {
              "id": {
                "type": "string",
                "format": "uuid",
                "description": "分区唯一ID，GUID类型"
              },
              "regionId": {
                "type": "string",
                "description": "分区标识，英文和字母组成"
              },
              "title": {
                "type": "string",
                "description": "分区显示名称"
              },
              "tabTitle": {
                "type": "string",
                "description": "标签标题"
              },
              "disableStyle": {
                "type": "boolean",
                "description": "默认不显示分区边框"
              },
              "isHidden": {
                "type": "boolean",
                "description": "是否隐藏"
              },
              "groups": {
                "type": "array",
                "items": {
                  "type": "object",
                  "required": [
                    "id",
                    "groupId",
                    "title",
                    "disableStyle",
                    "cellStyles",
                    "rows"
                  ],
                  "properties": {
                    "id": {
                      "type": "string",
                      "format": "uuid",
                      "description": "分组唯一ID，GUID类型"
                    },
                    "groupId": {
                      "type": "string",
                      "description": "分组标识，英文和字母组成"
                    },
                    "title": {
                      "type": "string",
                      "description": "分组显示名称"
                    },
                    "disableStyle": {
                      "type": "boolean",
                      "description": "默认显示分组边框"
                    },
                    "isHidden": {
                      "type": "boolean",
                      "description": "是否隐藏"
                    },
                    "tips": {
                      "type": "string",
                      "description": "提示"
                    },
                    "tipsType": {
                      "type": "string",
                      "description": "提示类型"
                    },
                    "cellStyles": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "required": [
                          "labelWidth",
                          "width"
                        ],
                        "properties": {
                          "labelWidth": {
                            "type": "string",
                            "description": "标签区域宽度，固定值"
                          },
                          "width": {
                            "type": "string",
                            "description": "宽度"
                          }
                        }
                      }
                    },
                    "rows": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "required": [
                          "cells"
                        ],
                        "properties": {
                          "cells": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "required": [
                                "id",
                                "colSpan",
                                "ref"
                              ],
                              "properties": {
                                "id": {
                                  "type": "string",
                                  "format": "uuid",
                                  "description": "单元格唯一ID，GUID类型"
                                },
                                "colSpan": {
                                  "type": "string",
                                  "description": "合并单元格"
                                },
                                "ref": {
                                  "type": "string",
                                  "description": "关联组件的 field 属性"
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "hiddens": {
      "type": "array",
      "items": {
        "type": "object",
        "required": [
          "id",
          "field",
          "defaultValue"
        ],
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "节点唯一ID，GUID类型"
          },
          "field": {
            "type": "string",
            "description": "字段名"
          },
          "defaultValue": {
            "type": "string",
            "description": "默认值"
          }
        }
      }
    },
    "toolbar": {
      "type": "object",
      "properties": {
        "bottomButtons": {
          "type": "array",
          "items": {
            "type": "object",
            "required": [
              "itemId",
              "title",
              "type",
              "id",
              "isMenuButton"
            ],
            "properties": {
              "itemId": {
                "type": "string",
                "format": "uuid",
                "description": "按钮唯一ID，GUID类型"
              },
              "title": {
                "type": "string",
                "description": "显示名称"
              },
              "isHighlight": {
                "type": "boolean",
                "description": "是否高亮显示"
              },
              "type": {
                "type": "string",
                "description": "按钮类型"
              },
              "id": {
                "type": "string",
                "description": "按钮HTML标识，英文字母+数字组成"
              },
              "isMenuButton": {
                "type": "boolean",
                "description": "是否菜单按钮"
              },
              "isHidden": {
                "type": "boolean",
                "description": "是否隐藏"
              },
              "isDisabled": {
                "type": "boolean",
                "description": "是否禁用"
              },
              "events": {
                "type": "array",
                "items": {
                  "type": "object",
                  "required": [
                    "name",
                    "functionName",
                    "enabled"
                  ],
                  "properties": {
                    "name": {
                      "type": "string",
                      "description": "事件名称"
                    },
                    "functionName": {
                      "type": "string",
                      "description": "函数名称"
                    },
                    "enabled": {
                      "type": "boolean",
                      "description": "是否启用"
                    }
                  }
                }
              },
              "behavior": {
                "type": ["object","null"],
                "required": ["itemId","target","type","url","id"],
                "properties": {
                  "itemId": {
                    "type": "string",
                    "format": "uuid",
                    "description": "节点ID，GUID类型",
                    "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$"
                  },
                  "target": {
                    "type": "string",
                    "description": "打开方式",
                    "enum": [
                      "self",
                      "dialog",
                      "panel",
                      "blank"
                    ]
                  },
                  "targetDisplayType": {
                    "type": "string",
                    "description": "新标签页打开方式",
                    "enum": [
                      "fixedWidth",
                      "selfAdaption"
                    ]
                  },
                  "type": {
                    "type": "string",
                    "description": "页面类型",
                    "enum": [
                      "page"
                    ]
                  },
                  "url": {
                    "type": "string",
                    "description": "页面运行时访问地址，固定格式：/std/{@functionCode}/{@name}"
                  },
                  "id": {
                    "type": "string",
                    "format": "uuid",
                    "description": "页面ID，GUID类型",
                    "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$"
                  },
                  "options": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "required": [
                        "key",
                        "value"
                      ],
                      "properties": {
                        "key": {
                          "type": "string",
                          "description": "配置属性"
                        },
                        "value": {
                          "type": "string",
                          "description": "配置值"
                        }
                      }
                    }
                  },
                  "params": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "required": [
                        "key",
                        "value"
                      ],
                      "properties": {
                        "type": {
                          "type": "string",
                          "description": "参数类型",
                          "enum": [
                            "text",
                            "query",
                            "data"
                          ]
                        },
                        "key": {
                          "type": "string",
                          "description": "参数名"
                        },
                        "value": {
                          "type": "string",
                          "description": "参数值"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "rule": {
      "type": "object",
      "required": [
        "configs",
        "groups"
      ],
      "properties": {
        "configs": {
          "type": "array",
          "items": {
            "type": "object",
            "required": [
              "id",
              "title",
              "controlId",
              "controlType",
              "controlSubType",
              "controlProp",
              "controlName",
              "handles"
            ],
            "properties": {
              "id": {
                "type": "string",
                "format": "uuid",
                "description": "节点ID，GUID类型"
              },
              "title": {
                "type": "string",
                "description": "规则名称"
              },
              "controlId": {
                "type": "string",
                "format": "uuid",
                "description": "控件ID"
              },
              "controlType": {
                "type": "string",
                "description": "控件类型"
              },
              "controlSubType": {
                "type": "string",
                "description": "控件子类型"
              },
              "controlProp": {
                "type": "string",
                "description": "控件属性"
              },
              "controlName": {
                "type": "string",
                "description": "关联的控件Name"
              },
              "handles": {
                "type": "array",
                "items": {
                  "type": "object",
                  "required": [
                    "handleId",
                    "ruleId",
                    "action",
                    "value"
                  ],
                  "properties": {
                    "handleId": {
                      "type": "string",
                      "format": "uuid",
                      "description": "处理ID"
                    },
                    "ruleId": {
                      "type": "string",
                      "format": "uuid",
                      "description": "规则ID"
                    },
                    "action": {
                      "type": "string",
                      "description": "动作"
                    },
                    "value": {
                      "type": "string",
                      "description": "值"
                    }
                  }
                }
              }
            }
          }
        },
        "groups": {
          "type": "array",
          "items": {
            "type": "object",
            "required": [
              "id",
              "title",
              "rule"
            ],
            "properties": {
              "id": {
                "type": "string",
                "format": "uuid",
                "description": "组ID"
              },
              "title": {
                "type": "string",
                "description": "组标题"
              },
              "rule": {
                "type": "object",
                "required": [
                  "condition",
                  "rules"
                ],
                "properties": {
                  "condition": {
                    "type": "string",
                    "description": "条件"
                  },
                  "rules": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "required": [
                        "action",
                        "field",
                        "operator",
                        "type",
                        "value",
                        "valueType"
                      ],
                      "properties": {
                        "action": {
                          "type": "string",
                          "description": "动作"
                        },
                        "field": {
                          "type": "string",
                          "description": "字段"
                        },
                        "operator": {
                          "type": "string",
                          "description": "操作符"
                        },
                        "type": {
                          "type": "string",
                          "description": "类型"
                        },
                        "value": {
                          "type": "string",
                          "description": "值"
                        },
                        "valueType": {
                          "type": "string",
                          "description": "值类型"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "checkRules": {
      "type": "array",
      "items": {
        "type": "object",
        "required": [
          "id",
          "name",
          "promptMode",
          "errorMessage",
          "content"
        ],
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "规则ID，GUID类型"
          },
          "name": {
            "type": "string",
            "description": "规则名称"
          },
          "promptMode": {
            "type": "string",
            "description": "提示模式"
          },
          "errorMessage": {
            "type": "string",
            "description": "错误提示"
          },
          "content": {
            "type": "string",
            "description": "规则公式内容"
          }
        }
      }
    }
  }
}