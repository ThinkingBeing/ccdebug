{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "title": "Param Schema",
  "description": "业务参数元数据结构",
  "properties": {
    "metadataType": {
      "type": "string",
      "enum": ["Param"],
      "description": "元数据类型"
    },
    "createdBy": {
      "type": "string",
      "description": "创建人"
    },
    "createdOn": {
      "type": "string",
      "format": "date-time",
      "description": "创建时间"
    },
    "modifiedBy": {
      "type": "string",
      "description": "修改人"
    },
    "modifiedOn": {
      "type": "string",
      "format": "date-time",
      "description": "修改时间"
    },
    "metadataStatus": {
      "type": "string",
      "enum": ["Customize", "System"],
      "description": "元数据状态"
    },
    "paramId": {
      "type": "string",
      "pattern": "^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",
      "description": "参数ID"
    },
    "paramCode": {
      "type": "string",
      "description": "参数编码"
    },
    "paramName": {
      "type": "string",
      "description": "参数名称"
    },
    "scope": {
      "type": "string",
      "enum": ["group", "global", "user"],
      "description": "作用域"
    },
    "paramType": {
      "type": ["string","integer"],
      "description": "参数类型"
    },
    "customizedTypeId": {
      "type": "string",
      "pattern": "^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",
      "description": "自定义类型ID"
    },
    "minValue": {
      "type": "integer",
      "description": "最小值"
    },
    "maxValue": {
      "type": "integer",
      "description": "最大值"
    },
    "showThousandths": {
      "type": "boolean",
      "description": "显示千分位"
    },
    "valueType": {
      "type": "integer",
      "description": "值类型"
    },
    "isSystem": {
      "type": "boolean",
      "description": "是否系统参数"
    },
    "isInterval": {
      "type": "boolean",
      "description": "是否区间"
    },
    "intervalUnit": {
      "type": "string",
      "description": "区间单位"
    },
    "hierarchy": {
      "type": "integer",
      "description": "层级"
    },
    "orderNum": {
      "type": "integer",
      "description": "排序号"
    },
    "disabled": {
      "type": "boolean",
      "description": "是否禁用"
    },
    "typeGuid": {
      "type": "string",
      "pattern": "^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",
      "description": "类型GUID"
    },
    "application": {
      "type": "string",
      "description": "应用编码"
    },
    "functionGUID": {
      "type": "string",
      "pattern": "^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",
      "description": "功能GUID"
    },
    "optionSource": {
      "type": "string",
      "enum": ["templates", "sql", "api"],
      "description": "选项数据源"
    },
    "description": {
      "type": "string",
      "description": "描述"
    },
    "storageMode": {
      "type": "integer",
      "description": "存储模式"
    },
    "disableRestore": {
      "type": "boolean",
      "description": "禁用恢复"
    },
    "disableCopy": {
      "type": "boolean",
      "description": "禁用复制"
    },
    "isHidden": {
      "type": "boolean",
      "description": "是否隐藏"
    },
    "decimalPlace": {
      "type": "integer",
      "description": "小数位数"
    },
    "unit": {
      "type": "string",
      "description": "单位"
    },
    "unitTextSystemParam": {
      "type": "string",
      "description": "单位文本系统参数"
    },
    "templates": {
      "type": "array",
      "description": "模板选项",
      "items": {
        "type": "object",
        "properties": {
          "paramValueTemplateId": {
            "type": "string",
            "pattern": "^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",
            "description": "参数值模板ID"
          },
          "paramId": {
            "type": "string",
            "pattern": "^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",
            "description": "参数ID"
          },
          "value": {
            "type": "string",
            "description": "值"
          },
          "text": {
            "type": "string",
            "description": "显示文本"
          },
          "code": {
            "type": "string",
            "description": "编码"
          },
          "color": {
            "type": "string",
            "description": "颜色"
          },
          "parentCode": {
            "type": "string",
            "description": "父级编码"
          },
          "isSystem": {
            "type": "boolean",
            "description": "是否系统"
          },
          "isDefault": {
            "type": "boolean",
            "description": "是否默认"
          },
          "disabled": {
            "type": "boolean",
            "description": "是否禁用"
          },
          "order": {
            "type": "integer",
            "description": "排序"
          }
        },
        "required": [
          "paramValueTemplateId",
          "paramId",
          "value",
          "text",
          "code",
          "parentCode",
          "isSystem",
          "isDefault",
          "disabled",
          "order"
        ],
        "additionalProperties": false
      }
    },
    "rightsRule": {
      "type": ["string", "null","array"],
      "description": "权限规则"
    },
    "rule": {
      "type": "object",
      "description": "规则",
      "properties": {
        "configs": {
          "type": "string",
          "description": "配置"
        },
        "groups": {
          "type": "string",
          "description": "分组"
        }
      },
      "required": ["configs", "groups"],
      "additionalProperties": false
    }
  },
  "required": [
    "metadataType",
    "createdBy",
    "createdOn",
    "modifiedBy",
    "modifiedOn",
    "metadataStatus",
    "paramId",
    "paramCode",
    "paramName",
    "scope",
    "paramType",
    "valueType",
    "orderNum",
    "typeGuid",
    "application"
  ],
  "additionalProperties": false
}