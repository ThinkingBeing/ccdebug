{
  "_doc": "knowledge/jmpt/AppGrid/appgrid-dsl.md",
  "metadataType": "AppGrid",
  "createdBy": "创建人",
  "createdOn": "创建时间，日期格式",
  "modifiedBy": "修改人",
  "modifiedOn": "修改时间，日期格式",
  "metadataStatus": "状态，枚举类型：Product｜Customize",
  "name": "控件名称",
  "functionPageId": "页面ID，GUID类型",
  "description": "控件描述",
  "gridId": "控件唯一ID，GUID类型",
  "application": "应用（系统）编码",
  "layout_pageSize": 20,
  "layout_entityName": "主表英文名",
  "layout_entityId": "主表ID，GUID类型",
  "toolbar": {
    "batchButtons": [
      {}
    ],
    "globalButtons": [
      {
        "itemId": "节点ID，GUID类型",
        "title": "菜单按钮显示名称",
        "type": "menu",
        "id": "菜单按钮英文名称，menu_more",
        "isMenuButton": false,
        "isHidden": false,
        "isDisabled": false,
        "items": [
          {
            "itemId": "节点ID，GUID类型",
            "title": "按钮显示名称",
            "type": "button",
            "id": "button_print",
            "isMenuButton": true,
            "isHidden": false,
            "isDisabled": false,
            "events": [
              {
                "name": "onclick",
                "functionName": "Mysoft.Map6.UI.Template.Grid.print(e)",
                "enabled": true
              }
            ],
            "behavior": {
              "itemId": "5cd05313-6e2e-4545-9cce-f9186cf99634",
              "target": "dialog",
              "targetDisplayType": "fixedWidth",
              "type": "page",
              "url": "/std/x_00111901/1cd05313-6e2e-4545-9cce-f9186cf99634",
              "id": "1cd05313-6e2e-4545-9cce-f9186cf99634",
              "options": [
                {
                  "key": "width",
                  "value": "960"
                }
              ],
              "params": [
                {
                  "type": "text",
                  "key": "mode",
                  "value": "1"
                }
              ]
            }
          },
          {
            "itemId": "节点ID，GUID类型",
            "title": "导出",
            "type": "button",
            "id": "button_export",
            "isMenuButton": true,
            "isHidden": false,
            "isDisabled": false,
            "events": [
              {
                "name": "onclick",
                "functionName": "Mysoft.Map6.UI.Template.Grid.exportExcel(e)",
                "enabled": true
              }
            ]
          }
        ]
      }
    ],
    "rowButtons": [
      {
        "itemId": "节点ID，GUID类型",
        "title": "删除",
        "type": "button",
        "id": "button_delete",
        "isMenuButton": false,
        "isHidden": false,
        "isDisabled": false,
        "events": [
          {
            "name": "onclick",
            "functionName": "Mysoft.Map6.UI.Template.Grid.deleteCurrentRow()",
            "enabled": true
          }
        ],
        "behavior": {
          "itemId": "5cd05313-6e2e-4545-9cce-f9186cf99634",
          "target": "dialog",
          "targetDisplayType": "fixedWidth",
          "type": "page",
          "url": "/std/x_00111901/1cd05313-6e2e-4545-9cce-f9186cf99634",
          "id": "1cd05313-6e2e-4545-9cce-f9186cf99634",
          "options": [
            {
              "key": "width",
              "value": "960"
            }
          ],
          "params": [
            {
              "type": "text",
              "key": "mode",
              "value": "1"
            }
          ]
        }
      }
    ]
  },
  "filter": {
    "filterId": "筛选节点ID，GUID类型",
    "labelWidth": "91",
    "conditions": [
      {
        "id": "筛选条件ID，GUID类型",
        "searchType": "eq",
        "name": "ProjectSelect",
        "layout": "horizontal",
        "title": "项目",
        "projectSelect": {
          "field": "ProjectSelect",
          "filterType": "1",
          "displayType": "5",
          "filterMethod": "0",
          "inherit": "0",
          "filterable": true,
          "cascade": false,
          "label2": "项目",
          "displayType2": "0"
        }
      },
      {
        "id": "筛选条件ID，GUID类型",
        "name": "Search",
        "searchType": "eq",
        "layout": "horizontal",
        "title": "Search",
        "search": {
          "field": "Search",
          "fields": [
            {
              "field": "x_AssetName",
              "title": "资产名称"
            }
          ]
        }
      },
      {
        "id": "筛选条件ID，GUID类型",
        "name": "x_AssetType",
        "searchType": "eq",
        "layout": "horizontal",
        "title": "资产类别",
        "comboBox": {
          "field": "x_AssetType",
          "optionsType": "options",
          "allowEmpty": false,
          "multiSelect": false,
          "allowClear": true,
          "filterable": false,
          "operatorType": "eq",
          "options": [
            {
              "value": "土地",
              "text": "土地",
              "isDefault": false
            }
          ]
        }
      },
      {
        "id": "筛选条件ID，GUID类型",
        "name": "x_BeginDate",
        "searchType": null,
        "layout": "horizontal",
        "title": "填报开始",
        "dateRange": {
          "field": "x_BeginDate",
          "format": "yyyy-MM-dd",
          "dataFrom": "options",
          "allowClear": true,
          "options": [
            {
              "value": "今天开始",
              "text": "今天开始",
              "isDefault": false
            }
          ]
        }
      },
      {
        "id": "筛选条件ID，GUID类型",
        "name": "x_AnnualRentAmount",
        "searchType": null,
        "layout": "vertical",
        "title": "年租金（万元）",
        "numberRange": {
          "field": "x_AnnualRentAmount",
          "precision": 2,
          "precisionType": 0,
          "rounding": 2,
          "roundingType": 0,
          "showThousandths": true,
          "allowZero": true,
          "showPercentage": false,
          "unitTextType": 0,
          "minValue": "-99999999999.99",
          "maxValue": "99999999999.99",
          "minOperatorType": "ge",
          "maxOperatorType": "le",
          "options": [
            {
              "fromValue": "0",
              "toValue": "100",
              "text": "0~100",
              "isDefault": false
            }
          ]
        }
      }
    ]
  },
  "views": [
    {
      "viewId": "视图唯一ID，GUID类型",
      "name": "视图显示名称",
      "isDefault": false,
      "isHidden": false,
      "entityId": "主表ID，GUID类型",
      "dataSource": {
        "keyName": "主表主键名称",
        "entity": "主表英文名",
        "diagrams": [
          {
            "id": "数据表ID，GUID类型",
            "name": "数据表英文名",
            "primaryField": "主键",
            "parentId": null,
            "type": 0,
            "isMaster": true,
            "joinType": 0,
            "diagramRelation": null,
            "logicFormula": "",
            "conditionType": 0,
            "conditions": [
              {
                "field": "x_asset_AssetLeaseInfo.x_AssetType",
                "operatorType": "like",
                "id": "节点ID，GUID类型",
                "dataType": "string",
                "valueType": "0",
                "leftValueType": "field",
                "value": "写字楼"
              }
            ]
          },
          {
            "id": "数据表ID，GUID类型",
            "name": "数据表英文名",
            "primaryField": "主键名称",
            "parentId": "与之关联的主表的ID，GUID类型",
            "type": 0,
            "isMaster": false,
            "joinType": 1,
            "diagramRelation": {
              "primaryEntityName": "x_asset_AssetLeaseInfo",
              "primaryFieldName": "x_ProjGUID",
              "entityName": "p_Project",
              "fieldName": "p_projectId",
              "relation": "x_asset_AssetLeaseInfo.x_ProjGUID = p_Project.p_projectId",
              "type": "OneToMore"
            },
            "conditionType": 0,
            "conditions": []
          }
        ]
      },
      "columns": [
        {
          "name": "字段英文名",
          "title": "列显示名称",
          "width": 120,
          "field": "字段英文名——强调：columns 中的field属性，如果出现多个表同名的情况，那么如果是子表的字段，需要将field设置为：子表英文名_子表字段名",
          "allowEdit": false,
          "id": "列ID，GUID类型",
          "isHidden": false,
          "dataType": "text",
          "align": "left",
          "dataSourceType": "Field",
          "allowSort": false,
          "isSummaryColumn": false,
          "isBold": false,
          "tips": "",
          "textBox": {
            "id": "控件ID，GUID类型",
            "field": "字段英文名"
          }
        },
        {
          "name": "字段英文名",
          "title": "列显示名称",
          "width": 120,
          "field": "字段英文名",
          "allowEdit": false,
          "id": "列ID，GUID类型",
          "isHidden": false,
          "dataType": "number",
          "align": "right",
          "allowSort": false,
          "isSummaryColumn": false,
          "isBold": false,
          "tips": "",
          "spinner": {
            "id": "控件ID，GUID类型",
            "field": "字段英文名",
            "precision": 2,
            "precisionType": 0,
            "rounding": 2,
            "roundingType": 0,
            "showThousandths": true,
            "unitText": "",
            "unitTextType": 0,
            "minValue": "-99999999999.99",
            "maxValue": "99999999999.99",
            "minOperatorType": "ge",
            "maxOperatorType": "le"
          }
        },
        {
          "name": "字段英文名",
          "title": "列显示名称",
          "width": 120,
          "field": "字段英文名",
          "allowEdit": false,
          "id": "列ID，GUID类型",
          "isHidden": false,
          "dataType": "date",
          "align": "center",
          "allowSort": false,
          "isSummaryColumn": false,
          "isBold": false,
          "tips": "",
          "datePicker": {
            "id": "控件ID，GUID类型",
            "field": "字段英文名",
            "format": "yyyy-MM-dd"
          }
        },
        {
          "name": "字段英文名",
          "title": "列显示名称",
          "width": 120,
          "field": "字段英文名",
          "allowEdit": false,
          "id": "列ID，GUID类型",
          "isHidden": false,
          "dataType": "text",
          "align": "left",
          "dataSourceType": "Field",
          "allowSort": false,
          "isSummaryColumn": false,
          "isBold": false,
          "tips": "",
          "comboBox": {
            "id": "控件ID，GUID类型",
            "field": "字段英文名",
            "optionDataType": "textValue",
            "optionsType": "options",
            "options": [
              {
                "value": "选项值",
                "text": "选项名称",
                "isDefault": false,
                "disabled": false
              }
            ]
          }
        }
      ]
    }
  ],
  "rule": {
    "configs": [
      {
        "id": "节点ID，GUID类型",
        "title": "新规则",
        "controlId": "b97aa1ff-0ee5-4765-b9b9-e518c3240a3d",
        "controlType": "column",
        "controlSubType": "",
        "controlProp": "isHidden",
        "controlName": "x_LeaseMode",
        "handles": [
          {
            "handleId": "7b80f7c7-9d61-4f9f-b2e5-18619db6005e",
            "ruleId": "23cbf22e-7d32-4244-ac0f-0e59fdb73c59",
            "action": "hide",
            "value": ""
          }
        ]
      }
    ],
    "groups": [
      {
        "id": "23cbf22e-7d32-4244-ac0f-0e59fdb73c59",
        "title": "办公类视图",
        "rule": {
          "condition": "AND",
          "rules": [
            {
              "action": "viewId",
              "field": "_viewId",
              "operator": "equal",
              "type": "string",
              "value": "f63ca7df-2203-428e-bb5c-a8fb018482ae",
              "valueType": "text"
            }
          ]
        }
      }
    ]
  }
}